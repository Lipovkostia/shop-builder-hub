

## Исправление PDF-экспорта: кириллица и размер файла

### Проблема 1: Непонятные символы вместо текста

jsPDF по умолчанию использует шрифт Helvetica, который не поддерживает кириллицу. Все русские буквы заменяются на "кракозябры".

**Решение:** Встроить шрифт с поддержкой кириллицы (Roboto Regular) в формате base64. При инициализации PDF-документа зарегистрировать шрифт через `addFileToVFS` / `addFont` / `setFont`.

### Проблема 2: Файл весит 370 МБ

Изображения товаров загружаются в оригинальном разрешении (часто 1000x1000+ пикселей) и вставляются как есть. В PDF они отображаются как 8x8 мм, но данные хранятся в полном размере.

**Решение:** Перед вставкой в PDF уменьшать каждое изображение через HTML Canvas до 64x64 пикселей и сжимать в JPEG с качеством 0.6. Это уменьшит размер каждого фото примерно в 50-100 раз.

### Технические изменения

**Файл: `src/lib/pdfExport.ts`**

1. Создать новый файл `src/lib/robotoFont.ts` с base64-данными шрифта Roboto Regular (один раз сгенерированная строка, ~150 КБ в base64).

2. В `pdfExport.ts`:
   - Импортировать шрифт и зарегистрировать его в jsPDF:
     ```
     doc.addFileToVFS('Roboto-Regular.ttf', robotoBase64);
     doc.addFont('Roboto-Regular.ttf', 'Roboto', 'normal');
     doc.setFont('Roboto');
     ```
   - Заменить функцию `loadImageAsBase64` на `loadAndCompressImage`, которая:
     - Загружает изображение через `Image` + canvas
     - Рисует его на canvas размером 64x64 пикселей
     - Возвращает сжатый JPEG data URL (качество 0.6)
   - Передавать в `addImage` формат JPEG явно

### Результат

- Кириллица будет отображаться корректно
- Размер файла уменьшится примерно в 20-50 раз (с 370 МБ до ~5-15 МБ в зависимости от количества товаров)
