
# –†–∞–∑–¥–µ–ª "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π" –≤ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## –ß—Ç–æ –±—É–¥–µ—Ç —Å–¥–µ–ª–∞–Ω–æ

–ù–æ–≤—ã–π —Ä–∞–∑–¥–µ–ª (–≤–∫–ª–∞–¥–∫–∞) "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π" –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã–π –ø–æ—Å–ª–µ "–ü–æ–º–æ—â—å". –≠—Ç–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–Ω–µ –¥–∏–∞–ª–æ–≥), –≥–¥–µ –ø—Ä–æ–¥–∞–≤–µ—Ü –º–æ–∂–µ—Ç:

1. –í—ã–±—Ä–∞—Ç—å –ø—Ä–∞–π—Å-–ª–∏—Å—Ç –∏–∑ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞
2. –£–≤–∏–¥–µ—Ç—å –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —ç—Ç–æ–≥–æ –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–∞
3. –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞ (drag & drop)
4. –°–æ–∑–¥–∞–≤–∞—Ç—å "—Ä–∞–∑–¥–µ–ª—ã" (—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏) –∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞—Ç—å –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤–Ω—É—Ç—Ä—å –Ω–∏—Ö
5. –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞—Ç—å –∏ —É–¥–∞–ª—è—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

–†–∞–∑–¥–µ–ª—ã (—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏) –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –Ω–∞ –≤–∏—Ç—Ä–∏–Ω–µ –∫–∞–∫ –∑–∞–≥–æ–ª–æ–≤–∫–∏ —Å —Ä–∞—Å–∫—Ä—ã–≤–∞—é—â–∏–º–∏—Å—è –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏.

## –ò–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –ù–æ–≤—ã–π —Ç–∏–ø —Å–µ–∫—Ü–∏–∏

**`src/components/admin/MobileTabNav.tsx`** –∏ **`src/pages/AdminPanel.tsx`**:
- –î–æ–±–∞–≤–∏—Ç—å `"category-settings"` –≤ —Ç–∏–ø `ActiveSection`
- –î–æ–±–∞–≤–∏—Ç—å –≤–∫–ª–∞–¥–∫—É "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π" —Å –∏–∫–æ–Ω–∫–æ–π `Tag` –ø–æ—Å–ª–µ "–ü–æ–º–æ—â—å" –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

### 2. –ù–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `CategorySettingsSection`

**`src/components/admin/CategorySettingsSection.tsx`** -- –Ω–æ–≤—ã–π —Ñ–∞–π–ª:

- **–í—ã–±–æ—Ä –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–∞**: Select dropdown —Å–æ —Å–ø–∏—Å–∫–æ–º –≤—Å–µ—Ö –∫–∞—Ç–∞–ª–æ–≥–æ–≤ –º–∞–≥–∞–∑–∏–Ω–∞
- **–°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π**: drag & drop —Å–ø–∏—Å–æ–∫ (–∏—Å–ø–æ–ª—å–∑—É—è `@dnd-kit`) —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏:
  - –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (—Ä–∞–∑–¥–µ–ª—ã) –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ –∫—Ä—É–ø–Ω—ã–µ –±–ª–æ–∫–∏ —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º
  - –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ -- —Å –æ—Ç—Å—Ç—É–ø–æ–º –≤–Ω—É—Ç—Ä–∏ —Ä–∞–∑–¥–µ–ª–∞
  - –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞ –∏ –¥–ª—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è parent/child —Å–≤—è–∑–µ–π
- **–ö–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–¥–µ–ª"**: —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—É—é —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é (–∑–∞–≥–æ–ª–æ–≤–æ–∫ —Ä–∞–∑–¥–µ–ª–∞)
- **Inline-—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø–æ –∫–ª–∏–∫—É –Ω–∞ –∫–∞—Ä–∞–Ω–¥–∞—à
- **–£–¥–∞–ª–µ–Ω–∏–µ**: —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º —á–µ—Ä–µ–∑ AlertDialog
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ**: –∫–Ω–æ–ø–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ—Ä—è–¥–æ–∫ –∏ –∏–µ—Ä–∞—Ä—Ö–∏—é –≤ `catalog_category_settings`

```text
+--------------------------------------------------+
| –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π                              |
+--------------------------------------------------+
| –ü—Ä–∞–π—Å-–ª–∏—Å—Ç: [‚ñº –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–π—Å-–ª–∏—Å—Ç...]          |
+--------------------------------------------------+
|                                                  |
| [+ –î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–¥–µ–ª]                             |
|                                                  |
| ‚†ø  üìÅ –î–µ–ª–∏–∫–∞—Ç–µ—Å—ã              ‚úèÔ∏è üóëÔ∏è            |
|     ‚†ø  –§—É–∞-–≥—Ä–∞                ‚úèÔ∏è üóëÔ∏è            |
|     ‚†ø  –¢—Ä—é—Ñ–µ–ª–∏                ‚úèÔ∏è üóëÔ∏è            |
|     ‚†ø  –ò–∫—Ä–∞                   ‚úèÔ∏è üóëÔ∏è            |
|                                                  |
| ‚†ø  üìÅ –ù–∞–ø–∏—Ç–∫–∏                 ‚úèÔ∏è üóëÔ∏è            |
|     ‚†ø  –í–∏–Ω–æ                   ‚úèÔ∏è üóëÔ∏è            |
|     ‚†ø  –£–∫—Å—É—Å                  ‚úèÔ∏è üóëÔ∏è            |
|                                                  |
| ‚†ø  –ß–µ—Ä–Ω–∏–ª–∞ –∫–∞—Ä–∞–∫–∞—Ç–∏—Ü—ã         ‚úèÔ∏è üóëÔ∏è            |
|                                                  |
|                          [–û—Ç–º–µ–Ω–∞] [–°–æ—Ö—Ä–∞–Ω–∏—Ç—å]    |
+--------------------------------------------------+
```

### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ `AdminPanel.tsx`

- –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å `CategorySettingsSection`
- –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–Ω–¥–µ—Ä –ø—Ä–∏ `activeSection === "category-settings"`
- –ü–µ—Ä–µ–¥–∞—Ç—å `storeId`, `catalogs`, `categories` –∏ —Ñ—É–Ω–∫—Ü–∏–∏ `updateCatalogCategoryOrder`, `renameCategory`, `deleteCategory`

### 4. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Ç–∞–±–ª–∏—Ü–∞ `catalog_category_settings`, –ø–æ–ª–µ `parent_category_id`:
- –ü—Ä–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤–Ω—É—Ç—Ä—å —Ä–∞–∑–¥–µ–ª–∞ -- `parent_category_id` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ ID —Ä–∞–∑–¥–µ–ª–∞
- –ü—Ä–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–∏ –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ –Ω–∞—Ä—É–∂—É -- `parent_category_id` —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –≤ `null`
- `sort_order` –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏

### 5. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ –≤–∏—Ç—Ä–∏–Ω–µ

–í–∏—Ç—Ä–∏–Ω—ã —É–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –∏–µ—Ä–∞—Ä—Ö–∏—é —á–µ—Ä–µ–∑ `parent_category_id` –∏–∑ `catalog_category_settings` (—Å–æ–≥–ª–∞—Å–Ω–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ª–æ–≥–∏–∫–µ –≤ `get_catalog_categories_ordered` RPC). –ù–æ–≤—ã–π —Ä–∞–∑–¥–µ–ª –ø—Ä–æ—Å—Ç–æ –¥–∞—ë—Ç —É–¥–æ–±–Ω—ã–π UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —ç—Ç–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–µ–π.

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å

| –§–∞–π–ª | –ß—Ç–æ –º–µ–Ω—è–µ—Ç—Å—è |
|------|-------------|
| `src/components/admin/MobileTabNav.tsx` | –ù–æ–≤—ã–π –ø—É–Ω–∫—Ç `category-settings` –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ |
| `src/pages/AdminPanel.tsx` | –ù–æ–≤—ã–π `ActiveSection`, —Ä–µ–Ω–¥–µ—Ä `CategorySettingsSection` |
| `src/components/admin/CategorySettingsSection.tsx` | **–ù–æ–≤—ã–π —Ñ–∞–π–ª** -- –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Ä–∞–∑–¥–µ–ª —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ |

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `CategorySettingsSection` –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
- `@dnd-kit/core` –∏ `@dnd-kit/sortable` –¥–ª—è drag & drop (—É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ö—É–∫–∏ `useStoreCategories` –∏ `useStoreCatalogs`
- –°—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ç–∞–±–ª–∏—Ü—É `catalog_category_settings` —Å –ø–æ–ª—è–º–∏ `sort_order`, `parent_category_id`, `custom_name`
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI: `Select`, `Button`, `Input`, `AlertDialog`

–ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è: —Å–ø–∏—Å–æ–∫ –±—É–¥–µ—Ç –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º, —ç–ª–µ–º–µ–Ω—Ç—ã touch-friendly —Å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏ –¥–ª—è –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è –ø–∞–ª—å—Ü–µ–º.
